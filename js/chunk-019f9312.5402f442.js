(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-019f9312"],{"1d57":function(t,e,r){"use strict";r("1d94")},"1d94":function(t,e,r){},"8f13":function(t,e,r){"use strict";r.r(e);r("a4d3"),r("e01a");var c=r("7a23"),a=function(t){return Object(c["L"])("data-v-a7f7d8a0"),t=t(),Object(c["J"])(),t},n={class:"container px-4 mx-auto pt-[112px]"},o={class:"grid lg:grid-cols-2 gap-7"},i={class:"w-full"},s=["src","alt"],u={class:"flex"},d=["src"],l=["onClick"],b=["src"],p={class:"flex flex-col mt-6"},g={class:"flex items-end mb-6"},j={class:"mr-2 text-4xl font-bold"},O={class:"text-xl"},f={class:"flex items-center text-[#40916C] mb-8"},m={class:"mr-3 text-3xl"},h={class:"line-through"},v={class:"p-3 bg-gray-100"},x={class:"flex items-center my-6 lg:mt-auto lg:mb-[72px]"},C=["value"],w=Object(c["l"])("加入購物車"),I=a((function(){return Object(c["i"])("div",{class:"py-3 mt-3 mb-6 border-t-2"},[Object(c["i"])("h2",{class:"mb-1 text-xl"},"注意事項"),Object(c["i"])("ul",{class:"pl-5 list-disc"},[Object(c["i"])("li",null," 生鮮食品不適用於消費者保護法第19條，並不享用7天鑑賞期，若您對於訂購之商品不甚滿意且希望辦理退貨時，請於到貨後4小時內拍照存證，並將問題反映客服人員 "),Object(c["i"])("li",null,"出貨時間：付款後隔天將有專車送達")])],-1)}));function P(t,e,r,a,P,k){var y=Object(c["R"])("base-btn"),U=Object(c["R"])("product-more"),D=Object(c["R"])("base-loading"),R=Object(c["R"])("base-dialog"),L=Object(c["R"])("add-cart-product");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",n,[Object(c["i"])("div",o,[Object(c["i"])("div",i,[Object(c["i"])("img",{src:P.cacheImage,alt:P.product.title,class:"object-cover mb-2 rounded-lg h-[400px] w-full"},null,8,s),Object(c["i"])("ul",u,[Object(c["i"])("li",{class:Object(c["x"])(["img",k.activeImg(P.product.imageUrl)]),onClick:e[0]||(e[0]=function(t){return P.cacheImage=P.product.imageUrl})},[Object(c["i"])("img",{src:P.product.imageUrl,alt:"product.title",class:"object-cover w-full h-full"},null,8,d)],2),(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(P.product.imagesUrl,(function(t){return Object(c["I"])(),Object(c["h"])("li",{key:t,onClick:function(e){return P.cacheImage=t}},[t?(Object(c["I"])(),Object(c["h"])("div",{key:0,class:Object(c["x"])(["img",k.activeImg(t)])},[Object(c["i"])("img",{src:t,alt:"product.title",class:"object-cover w-full h-full"},null,8,b)],2)):Object(c["g"])("",!0)],8,l)})),128))])]),Object(c["i"])("section",p,[Object(c["i"])("div",g,[Object(c["i"])("h1",j,Object(c["U"])(P.product.title),1),Object(c["i"])("p",O,Object(c["U"])(P.product.description),1)]),Object(c["i"])("div",f,[Object(c["i"])("p",m,"NT$ "+Object(c["U"])(P.product.price),1),Object(c["i"])("p",h,"NT$ "+Object(c["U"])(P.product.origin_price),1)]),Object(c["i"])("p",v,Object(c["U"])(P.product.content),1),Object(c["i"])("div",x,[Object(c["gb"])(Object(c["i"])("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=function(t){return P.productQuantity=t}),class:"px-2 py-[6.5px] mr-3 border-2 rounded-lg lg:px-5"},[(Object(c["I"])(),Object(c["h"])(c["a"],null,Object(c["P"])(12,(function(t){return Object(c["i"])("option",{value:t,key:t},Object(c["U"])(t),9,C)})),64))],512),[[c["Z"],P.productQuantity]]),Object(c["m"])(y,{class:"w-full",onClick:e[2]||(e[2]=function(t){return k.addCart(P.product.id)})},{default:Object(c["fb"])((function(){return[w]})),_:1})])])]),I,Object(c["m"])(U,{title:"更多商品","product-data":k.productsData,onProductDetailId:k.getProductDetail,onAddCartId:k.addCart},null,8,["product-data","onProductDetailId","onAddCartId"])]),Object(c["m"])(D,{show:P.isLoading},null,8,["show"]),Object(c["m"])(R,{show:!!P.error,title:"Error",onClose:k.closeError},{default:Object(c["fb"])((function(){return[Object(c["l"])(Object(c["U"])(P.error),1)]})),_:1},8,["show","onClose"]),Object(c["m"])(R,{show:!!P.addCartMessage,title:"已加入購物車",onClose:k.closeAddCartMessage},{default:Object(c["fb"])((function(){return[Object(c["m"])(L,{product:P.addCartProduct,quantity:P.productQuantity},null,8,["product","quantity"])]})),_:1},8,["show","onClose"])],64)}var k=r("3835"),y=r("1da1"),U=(r("4de4"),r("d3b7"),r("96cf"),r("566a")),D=r("b98b"),R={components:{AddCartProduct:U["a"],ProductMore:D["a"]},data:function(){return{isLoading:!1,error:null,product:{},cacheImage:"",productQuantity:1,addCartProduct:{},addCartMessage:""}},computed:{productsData:function(){return this.$store.getters["forestageProducts/productsData"]}},methods:{getProducts:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch("forestageProducts/getProducts");case 4:t.getProductDetail(t.$route.params.id),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.error=e.t0;case 10:return e.prev=10,t.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()},getProductDetail:function(t){var e=this.productsData.filter((function(e){return e.id===t})),r=Object(k["a"])(e,1);this.product=r[0],this.cacheImage=this.product.imageUrl},closeError:function(){this.error=null},activeImg:function(t){return this.cacheImage===t?"activeImg":"cursor-pointer"},addCart:function(t){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var c,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isLoading=!0,c={data:{product_id:t,qty:e.productQuantity}},r.next=5,e.$store.dispatch("forestageCart/addCart",c);case 5:e.addCartMessage=e.$store.getters["forestageCart/addCart"],a=e.productsData.filter((function(e){return e.id===t})),n=Object(k["a"])(a,1),e.addCartProduct=n[0],e.getCartData(),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),e.error=r.t0;case 15:return r.prev=15,e.isLoading=!1,r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[0,12,15,18]])})))()},getCartData:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch("forestageCart/getCart");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.error=e.t0;case 9:return e.prev=9,t.isLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})))()},closeAddCartMessage:function(){this.addCartMessage=""}},mounted:function(){this.getProducts()}},L=(r("1d57"),r("6b0d")),$=r.n(L);const M=$()(R,[["render",P],["__scopeId","data-v-a7f7d8a0"]]);e["default"]=M}}]);
//# sourceMappingURL=chunk-019f9312.5402f442.js.map