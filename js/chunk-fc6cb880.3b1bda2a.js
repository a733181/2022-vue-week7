(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc6cb880"],{"06c3":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"2a0e":function(e,t,r){"use strict";var c=r("7a23"),l=r("06c3"),o=r.n(l),n={class:"w-full text-center"},i={class:"border-b-2"},a=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),s=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),u=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),d=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],f={key:1},x={key:0},g={key:0},h=["onClick"],m=Object(c["i"])("td",null,null,-1),v=Object(c["i"])("td",null,null,-1),w=Object(c["i"])("td",null,null,-1),y={class:"pt-2"},I={key:0};function k(e,t,r,l,k,U){return Object(c["I"])(),Object(c["h"])("table",n,[Object(c["i"])("thead",null,[Object(c["i"])("tr",i,[a,s,u,d,r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(r.products,(function(e){return Object(c["I"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["U"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["U"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["gb"])((Object(c["I"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return U.changeProductQuantity(e)}},null,40,p)),[[c["ab"],e.qty]]),r.order?(Object(c["I"])(),Object(c["h"])("p",f,Object(c["U"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,[Object(c["i"])("p",null,Object(c["U"])(Math.round(e.final_total)),1),U.useCoupon(e.coupon)?(Object(c["I"])(),Object(c["h"])("p",x,"已套用優惠券："+Object(c["U"])(U.useCoupon(e.coupon)),1)):Object(c["g"])("",!0)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",g,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(t){return U.deleteProduct(e.id)}},null,8,h)]))])})),128)),Object(c["i"])("tr",null,[m,v,w,Object(c["i"])("td",null,[Object(c["i"])("p",y,Object(c["U"])(Math.round(U.sumsPriceTotal)),1)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",I,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:t[0]||(t[0]=function(){return U.deleteProduct&&U.deleteProduct.apply(U,arguments)})})]))])])])}r("d3b7");var U={props:{products:{type:Array,required:!0},order:{type:Boolean,required:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(e){if(e.qty<1)this.deleteProduct(e.id);else{var t={id:e.id,data:{product_id:e.product_id,qty:e.qty}};this.$emit("change-product-quantity",t)}},deleteProduct:function(e){this.$emit("delete-product",e)},useCoupon:function(e){return null!==e&&void 0!==e&&e.code?e.code:""}}},C=r("6b0d"),P=r.n(C);const q=P()(U,[["render",k]]);t["a"]=q},d81d:function(e,t,r){"use strict";var c=r("23e7"),l=r("b727").map,o=r("1dde"),n=o("map");c({target:"Array",proto:!0,forced:!n},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},f27a:function(e,t,r){"use strict";r.r(t);r("fb6a"),r("b0c0");var c=r("7a23"),l={class:"container px-4 mx-auto pt-[112px]"},o={class:"mb-6"},n=Object(c["i"])("label",{for:"orderId",class:"text-2xl font-bold lg:text-lg"},"請輸入訂單編號",-1),i=Object(c["l"])("搜尋"),a=Object(c["l"])("返回商城"),s={key:0},u=Object(c["i"])("h1",{class:"mb-3 text-2xl font-bold"},"商品清單",-1),d=Object(c["i"])("h2",{class:"mb-3 text-2xl font-bold"},"訂單明細",-1),b={class:"mb-8 bg-gray-100 rounded-lg lg:p-6"},O={class:"flex gap-2"},j=Object(c["i"])("h3",{class:"mb-2 text-lg"},"訂單編號：",-1),p={class:"flex gap-2 mb-2"},f=Object(c["i"])("h3",{class:"text-lg"},"付款狀態：",-1),x={class:"flex gap-2 mb-2"},g=Object(c["i"])("h3",{class:"text-lg ml-9"},"姓名：",-1),h={class:"flex gap-2 mb-2"},m=Object(c["i"])("h3",{class:"text-lg ml-9"},"電話：",-1),v={class:"flex gap-2 mb-2"},w=Object(c["i"])("h3",{class:"text-lg"},"電子信箱：",-1),y={class:"flex gap-2 mb-2"},I=Object(c["i"])("h3",{class:"text-lg ml-9"},"地址：",-1),k={class:"flex gap-2 mb-2"},U=Object(c["i"])("h3",{class:"text-lg ml-9"},"留言：",-1),C={key:1,class:"text-3xl text-center"};function P(e,t,r,P,q,_){var L,R=Object(c["R"])("base-btn"),V=Object(c["R"])("router-link"),A=Object(c["R"])("cart-product-list"),$=Object(c["R"])("base-loading"),E=Object(c["R"])("base-dialog");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",l,[Object(c["i"])("div",o,[Object(c["i"])("form",{action:"",class:"flex flex-col items-center gap-3 mb-3 lg:flex-row",onSubmit:t[2]||(t[2]=Object(c["ib"])((function(){return _.searchOrder&&_.searchOrder.apply(_,arguments)}),["prevent"]))},[n,Object(c["gb"])(Object(c["i"])("input",{type:"text",name:"",id:"orderId",class:Object(c["x"])(["p-[7px] border-2 rounded-lg w-full lg:w-1/3 xl:w-1/6",{"border-red-300":q.orderId.isValue}]),onBlur:t[0]||(t[0]=function(e){return q.orderId.isValue=!1}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return q.orderId.value=e})},null,34),[[c["ab"],q.orderId.value,void 0,{trim:!0}]]),Object(c["m"])(R,{class:"w-full lg:w-20",submit:""},{default:Object(c["fb"])((function(){return[i]})),_:1})],32),Object(c["m"])(V,{to:"/products"},{default:Object(c["fb"])((function(){return[Object(c["m"])(R,{class:"w-full lg:w-[56.5%] xl:w-[35%] 2xl:w-[32%]",outline:""},{default:Object(c["fb"])((function(){return[a]})),_:1})]})),_:1})]),null!==(L=q.order)&&void 0!==L&&L.id?(Object(c["I"])(),Object(c["h"])("div",s,[u,Object(c["m"])(A,{products:q.products,order:""},null,8,["products"]),d,Object(c["i"])("ul",b,[Object(c["i"])("li",O,[j,Object(c["i"])("p",null,Object(c["U"])(q.order.id),1)]),Object(c["i"])("li",p,[f,Object(c["i"])("p",{class:Object(c["x"])({"text-red-600":!q.order.is_paid})},Object(c["U"])(q.order.is_paid?"已付款":"未付款"),3)]),Object(c["i"])("li",x,[g,Object(c["i"])("p",null,Object(c["U"])(q.order.user.name.slice(0,1).toUpperCase())+"xx",1)]),Object(c["i"])("li",h,[m,Object(c["i"])("p",null,Object(c["U"])(q.order.user.tel.slice(0,4))+"xxxx",1)]),Object(c["i"])("li",v,[w,Object(c["i"])("p",null,Object(c["U"])(q.order.user.email.slice(0,5))+"xxxx",1)]),Object(c["i"])("li",y,[I,Object(c["i"])("p",null,Object(c["U"])(q.order.user.address.slice(0,7))+"xxxxxxxx",1)]),Object(c["i"])("li",k,[U,Object(c["i"])("p",null,Object(c["U"])(q.order.message),1)])])])):Object(c["g"])("",!0),q.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("p",C,"搜尋不到訂單，請確認訂單編號是否正確"))]),Object(c["m"])($,{show:q.isLoading},null,8,["show"]),Object(c["m"])(E,{show:!!q.error,title:"Error",onClose:_.closeError},{default:Object(c["fb"])((function(){return[Object(c["l"])(Object(c["U"])(q.error),1)]})),_:1},8,["show","onClose"])],64)}var q=r("1da1"),_=(r("96cf"),r("d81d"),r("4fad"),r("2a0e")),L={components:{CartProductList:_["a"]},data:function(){return{orderId:{value:"",isValue:!1},order:{},products:[],error:null,isLoading:!1}},methods:{searchOrder:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.orderId.value){t.next=4;break}return e.orderId.isValue=!0,t.abrupt("return");case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("forestageOrder/getOrder",e.orderId.value);case 7:e.order=e.$store.getters["forestageOrder/order"],console.log(e.order),null===e.order?e.isLoading=!1:e.products=Object.entries(e.order.products).map((function(e){return e[1]})),e.orderId.value="",t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.error=t.t0;case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})))()},closeError:function(){this.error=null}}},R=r("6b0d"),V=r.n(R);const A=V()(L,[["render",P]]);t["default"]=A},fb6a:function(e,t,r){"use strict";var c=r("23e7"),l=r("da84"),o=r("e8b5"),n=r("68ee"),i=r("861d"),a=r("23cb"),s=r("07fa"),u=r("fc6a"),d=r("8418"),b=r("b622"),O=r("1dde"),j=r("f36a"),p=O("slice"),f=b("species"),x=l.Array,g=Math.max;c({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,c,l,b=u(this),O=s(b),p=a(e,O),h=a(void 0===t?O:t,O);if(o(b)&&(r=b.constructor,n(r)&&(r===x||o(r.prototype))?r=void 0:i(r)&&(r=r[f],null===r&&(r=void 0)),r===x||void 0===r))return j(b,p,h);for(c=new(void 0===r?x:r)(g(h-p,0)),l=0;p<h;p++,l++)p in b&&d(c,l,b[p]);return c.length=l,c}})}}]);
//# sourceMappingURL=chunk-fc6cb880.3b1bda2a.js.map