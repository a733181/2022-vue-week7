{"version":3,"sources":["webpack:///./src/assets/trash-can-solid.svg","webpack:///./src/components/forestage/cart/CartProductList.vue","webpack:///./src/components/forestage/cart/CartProductList.vue?7609","webpack:///./src/components/forestage/cart/Breadcrumb.vue","webpack:///./src/components/forestage/cart/Breadcrumb.vue?7db1","webpack:///./src/views/forestage/order/OrderCheck.vue","webpack:///./src/views/forestage/order/OrderCheck.vue?225b","webpack:///./src/components/forestage/cart/Breadcrumb.vue?1e02"],"names":["module","exports","class","order","products","product","key","id","src","imageUrl","alt","title","price","type","name","qty","changeProductQuantity","Math","round","final_total","useCoupon","coupon","deleteProduct","sumsPriceTotal","props","Array","required","Boolean","emits","data","productList","computed","this","reduce","sum","item","sums","watch","methods","product_id","$emit","code","__exports__","render","mode","cartData","phone","email","address","message","to","outline","sendOrder","show","isLoading","error","closeError","orderId","closeOrderId","components","CartProductList","Breadcrumb","$store","getters","orderInformation","undefined","length","$router","replace","dispatch","mounted"],"mappings":"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","file":"js/chunk-bafc01c6.c1b7dce5.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/trash-can-solid.4839a2f8.svg\";","<template>\n  <table class=\"w-full text-center\">\n    <thead>\n      <tr class=\"border-b-2\">\n        <th class=\"w-1/3\">商品名稱</th>\n        <th class=\"w-1/6\">單價</th>\n        <th class=\"w-1/6\">數量</th>\n        <th class=\"w-1/6\">小計</th>\n        <th class=\"w-1/6\" v-if=\"!order\">刪除</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"product in products\" :key=\"product.id\" class=\"border-b-[1px]\">\n        <td class=\"flex flex-col items-center py-3 lg:flex-row\">\n          <img\n            :src=\"product.product.imageUrl\"\n            :alt=\"product.product.title\"\n            class=\"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover\"\n          />\n          <p>{{ product.product.title }}</p>\n        </td>\n        <td>{{ product.product.price }}</td>\n        <td>\n          <input\n            type=\"number\"\n            name=\"\"\n            id=\"\"\n            v-model=\"product.qty\"\n            class=\"w-full px-3 border-2 rounded-lg\"\n            @change=\"changeProductQuantity(product)\"\n            v-if=\"!order\"\n          />\n          <p v-if=\"order\">{{ product.qty }}</p>\n        </td>\n        <td>\n          <p>{{ Math.round(product.final_total) }}</p>\n          <p v-if=\"useCoupon(product.coupon)\">已套用優惠券：{{ useCoupon(product.coupon) }}</p>\n        </td>\n        <td v-if=\"!order\">\n          <img\n            src=\"@/assets/trash-can-solid.svg\"\n            alt=\"刪除\"\n            class=\"w-[20px] h-[20px] mx-auto hover:scale-150\"\n            @click=\"deleteProduct(product.id)\"\n          />\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td></td>\n        <td></td>\n        <td>\n          <p class=\"pt-2\">{{ Math.round(sumsPriceTotal) }}</p>\n        </td>\n        <td v-if=\"!order\">\n          <img\n            src=\"@/assets/trash-can-solid.svg\"\n            alt=\"刪除\"\n            class=\"w-[20px] h-[20px] mx-auto hover:scale-150\"\n            @click=\"deleteProduct\"\n          />\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nexport default {\n  props: {\n    products: {\n      type: Array,\n      required: true,\n    },\n    order: {\n      type: Boolean,\n      required: false,\n    },\n  },\n  emits: ['change-product-quantity', 'delete-product'],\n  data() {\n    return {\n      productList: [],\n    };\n  },\n  computed: {\n    sumsPriceTotal() {\n      if (this.products) {\n        return this.products.reduce((sum, item) => {\n          const sums = sum + item.final_total;\n          return sums;\n        }, 0);\n      }\n      return 0;\n    },\n  },\n  watch: {},\n  methods: {\n    changeProductQuantity(product) {\n      if (product.qty < 1) {\n        this.deleteProduct(product.id);\n      } else {\n        const data = {\n          id: product.id,\n          data: {\n            product_id: product.product_id,\n            qty: product.qty,\n          },\n        };\n        this.$emit('change-product-quantity', data);\n      }\n    },\n    deleteProduct(id) {\n      this.$emit('delete-product', id);\n    },\n    useCoupon(coupon) {\n      return coupon?.code ? coupon.code : '';\n    },\n  },\n};\n</script>\n","import { render } from \"./CartProductList.vue?vue&type=template&id=fe0179fc\"\nimport script from \"./CartProductList.vue?vue&type=script&lang=js\"\nexport * from \"./CartProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\2022-vue-shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul class=\"grid grid-cols-1 mb-8 lg:text-lg sm:grid-cols-3\">\n    <li\n      :class=\"\n        mode === 'cart'\n          ? ['breadcrumb-active', 'breadcrumb-active-right-arrow']\n          : ['breadcrumb-item', 'breadcrumb-right-arrow']\n      \"\n    >\n      購物車\n    </li>\n    <li\n      :class=\"\n        mode === 'information'\n          ? ['breadcrumb-active', 'breadcrumb-active-right-arrow']\n          : ['breadcrumb-item', 'breadcrumb-right-arrow']\n      \"\n    >\n      輸入訂購人資訊\n    </li>\n    <li :class=\"mode === 'check' ? 'breadcrumb-active' : 'breadcrumb-item'\">確認訂單詳情</li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: ['mode'],\n};\n</script>\n\n<style lang=\"postcss\" scoped>\n.breadcrumb-item {\n  @apply bg-gray-200 text-center p-2 relative;\n}\n\n.breadcrumb-right-arrow:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: -30px;\n  width: 0;\n  height: 0;\n  border: 1px solid;\n  border-width: 22px 0px 22px 30px;\n  border-color: transparent transparent transparent rgb(209 213 219);\n  z-index: 1;\n}\n\n.breadcrumb-right-arrow:after {\n  content: '';\n  position: absolute;\n  top: 2px;\n  right: -25px;\n  width: 0;\n  height: 0;\n  border: 1px solid;\n  border-width: 20px 0px 20px 25px;\n  border-color: transparent transparent transparent rgb(229 231 235);\n  z-index: 2;\n}\n\n@media (max-width: 1024px) {\n  .breadcrumb-item:before {\n    right: -15px;\n    border-width: 20px 0px 20px 15px;\n  }\n  .breadcrumb-item:after {\n    right: -10px;\n    border-width: 18px 0px 18px 10px;\n  }\n}\n\n.breadcrumb-active {\n  @apply bg-[#40916C] text-white p-2 text-center relative;\n}\n\n.breadcrumb-active-right-arrow:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: -28px;\n  width: 0;\n  height: 0;\n  border: 1px solid;\n  border-width: 22px 0px 22px 30px;\n  border-color: transparent transparent transparent #40916c;\n  z-index: 3;\n}\n\n@media (max-width: 1024px) {\n  .breadcrumb-active-right-arrow:before {\n    right: -13px;\n    border-width: 20px 0px 20px 14px;\n  }\n}\n</style>\n","import { render } from \"./Breadcrumb.vue?vue&type=template&id=5c504197&scoped=true\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js\"\n\nimport \"./Breadcrumb.vue?vue&type=style&index=0&id=5c504197&lang=postcss&scoped=true\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\2022-vue-shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c504197\"]])\n\nexport default __exports__","<template>\n  <div class=\"container px-4 mx-auto pt-[112px]\">\n    <breadcrumb mode=\"check\"></breadcrumb>\n    <cart-product-list :products=\"cartData\" order></cart-product-list>\n    <ul class=\"p-4 mt-3 mb-5 bg-gray-100 rounded-lg\">\n      <li class=\"flex mb-2\">\n        <p class=\"mr-2 text-lg ml-9\">姓名：</p>\n        <p>{{ order.name }}</p>\n      </li>\n      <li class=\"flex mb-2\">\n        <p class=\"mr-2 text-lg ml-9\">電話：</p>\n        <p>{{ order.phone }}</p>\n      </li>\n      <li class=\"flex mb-2\">\n        <p class=\"mr-2 text-lg\">電子信箱：</p>\n        <p>{{ order.email }}</p>\n      </li>\n      <li class=\"flex mb-2\">\n        <p class=\"mr-2 text-lg ml-9\">地址：</p>\n        <p>{{ order.address }}</p>\n      </li>\n      <li class=\"flex mb-2\">\n        <p class=\"mr-2 text-lg ml-9\">留言：</p>\n        <p>{{ order.message }}</p>\n      </li>\n    </ul>\n\n    <div class=\"max-w-[500px] ml-auto flex gap-4\">\n      <router-link to=\"/orderinformation\">\n        <base-btn outline class=\"flex-1\">上一步</base-btn>\n      </router-link>\n      <base-btn class=\"flex-1\" @click=\"sendOrder\">送出</base-btn>\n    </div>\n  </div>\n  <base-loading :show=\"isLoading\"></base-loading>\n  <base-dialog :show=\"!!error\" title=\"Error\" @close=\"closeError\">{{ error }}</base-dialog>\n  <base-dialog :show=\"!!orderId\" title=\"已建立訂單\" @close=\"closeOrderId\">\n    <p>您的訂單編號是：{{ orderId }}</p>\n    <p>請務必記下訂單編號。( 可用於查詢訂單狀態 )</p>\n  </base-dialog>\n</template>\n\n<script>\nimport CartProductList from '../../../components/forestage/cart/CartProductList.vue';\nimport Breadcrumb from '../../../components/forestage/cart/Breadcrumb.vue';\n\nexport default {\n  components: { CartProductList, Breadcrumb },\n  data() {\n    return {\n      order: {},\n      error: null,\n      isLoading: false,\n      orderId: '',\n    };\n  },\n  computed: {\n    cartData() {\n      return this.$store.getters['forestageCart/cartData'];\n    },\n  },\n  methods: {\n    orderInformation() {\n      this.order = this.$store.getters['forestageOrder/orderInformation'] ?? {};\n      if (this.order?.name === undefined || this.cartData.length === 0) {\n        this.$router.replace('/cart');\n      }\n    },\n    async sendOrder() {\n      try {\n        this.isLoading = true;\n        await this.$store.dispatch('forestageOrder/sendOrder');\n        this.orderId = this.$store.getters['forestageOrder/orderId'];\n        this.$store.dispatch('forestageOrder/orderInformation', '');\n      } catch (err) {\n        this.error = err;\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    closeError() {\n      this.error = null;\n    },\n    closeOrderId() {\n      this.orderId = '';\n      this.$router.replace('/order');\n    },\n  },\n  mounted() {\n    this.orderInformation();\n  },\n};\n</script>\n","import { render } from \"./OrderCheck.vue?vue&type=template&id=37613818\"\nimport script from \"./OrderCheck.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheck.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\2022-vue-shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Breadcrumb.vue?vue&type=style&index=0&id=5c504197&lang=postcss&scoped=true\""],"sourceRoot":""}