(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0442df39"],{"06c3":function(t,e,r){t.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"0a37":function(t,e,r){"use strict";r("1976")},1976:function(t,e,r){},"2a0e":function(t,e,r){"use strict";var c=r("7a23"),n=r("06c3"),o=r.n(n),a={class:"w-full text-center"},u={class:"border-b-2"},i=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),s=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),d=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),l=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},p={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],O=["onUpdate:modelValue","onChange"],f={key:1},h={key:0},m={key:0},g=["onClick"],v=Object(c["i"])("td",null,null,-1),w=Object(c["i"])("td",null,null,-1),x=Object(c["i"])("td",null,null,-1),C={class:"pt-2"},y={key:0};function k(t,e,r,n,k,P){return Object(c["I"])(),Object(c["h"])("table",a,[Object(c["i"])("thead",null,[Object(c["i"])("tr",u,[i,s,d,l,r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(r.products,(function(t){return Object(c["I"])(),Object(c["h"])("tr",{key:t.id,class:"border-b-[1px]"},[Object(c["i"])("td",p,[Object(c["i"])("img",{src:t.product.imageUrl,alt:t.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["U"])(t.product.title),1)]),Object(c["i"])("td",null,Object(c["U"])(t.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["gb"])((Object(c["I"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(e){return t.qty=e},class:"w-full px-3 border-2 rounded-lg",onChange:function(e){return P.changeProductQuantity(t)}},null,40,O)),[[c["ab"],t.qty]]),r.order?(Object(c["I"])(),Object(c["h"])("p",f,Object(c["U"])(t.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,[Object(c["i"])("p",null,Object(c["U"])(Math.round(t.final_total)),1),P.useCoupon(t.coupon)?(Object(c["I"])(),Object(c["h"])("p",h,"已套用優惠券："+Object(c["U"])(P.useCoupon(t.coupon)),1)):Object(c["g"])("",!0)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",m,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(e){return P.deleteProduct(t.id)}},null,8,g)]))])})),128)),Object(c["i"])("tr",null,[v,w,x,Object(c["i"])("td",null,[Object(c["i"])("p",C,Object(c["U"])(Math.round(P.sumsPriceTotal)),1)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",y,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:e[0]||(e[0]=function(){return P.deleteProduct&&P.deleteProduct.apply(P,arguments)})})]))])])])}r("d3b7");var P={props:{products:{type:Array,required:!0},order:{type:Boolean,required:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(t,e){var r=t+e.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(t){if(t.qty<1)this.deleteProduct(t.id);else{var e={id:t.id,data:{product_id:t.product_id,qty:t.qty}};this.$emit("change-product-quantity",e)}},deleteProduct:function(t){this.$emit("delete-product",t)},useCoupon:function(t){return null!==t&&void 0!==t&&t.code?t.code:""}}},I=r("6b0d"),R=r.n(I);const _=R()(P,[["render",k]]);e["a"]=_},"37db":function(t,e,r){"use strict";var c=r("7a23"),n={class:"grid grid-cols-1 mb-8 lg:text-lg sm:grid-cols-3"};function o(t,e,r,o,a,u){return Object(c["I"])(),Object(c["h"])("ul",n,[Object(c["i"])("li",{class:Object(c["x"])("cart"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 購物車 ",2),Object(c["i"])("li",{class:Object(c["x"])("information"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 輸入訂購人資訊 ",2),Object(c["i"])("li",{class:Object(c["x"])("check"===r.mode?"breadcrumb-active":"breadcrumb-item")},"確認訂單詳情",2)])}var a={props:["mode"]},u=(r("c676"),r("6b0d")),i=r.n(u);const s=i()(a,[["render",o],["__scopeId","data-v-5c504197"]]);e["a"]=s},"93ee":function(t,e,r){},a988:function(t,e,r){"use strict";r.r(e);var c=r("7a23"),n={class:"container px-4 mx-auto pt-[112px]"},o={key:0},a={class:"mt-10 ml-auto lg:w-1/3"},u=Object(c["l"])("下一步"),i={key:1},s=Object(c["i"])("p",{class:"mb-5 text-2xl font-bold text-center"},"購物車沒有東西~快去選購吧",-1),d=Object(c["l"])("去購物");function l(t,e,r,l,b,p){var j=Object(c["R"])("breadcrumb"),O=Object(c["R"])("cart-product-list"),f=Object(c["R"])("use-coupon"),h=Object(c["R"])("base-btn"),m=Object(c["R"])("router-link"),g=Object(c["R"])("base-loading"),v=Object(c["R"])("base-dialog");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",n,[0!==p.cartData.length?(Object(c["I"])(),Object(c["h"])("div",o,[Object(c["m"])(j,{mode:"cart"}),Object(c["m"])(O,{products:p.cartData,onChangeProductQuantity:p.changeProductQuantity,onDeleteProduct:p.deleteProduct},null,8,["products","onChangeProductQuantity","onDeleteProduct"]),Object(c["i"])("div",a,[Object(c["m"])(f,{class:"mb-12",onCouponCode:p.useCoupon},null,8,["onCouponCode"]),Object(c["m"])(m,{to:"/orderinformation"},{default:Object(c["fb"])((function(){return[Object(c["m"])(h,{class:"w-full"},{default:Object(c["fb"])((function(){return[u]})),_:1})]})),_:1})])])):Object(c["g"])("",!0),0===p.cartData.length?(Object(c["I"])(),Object(c["h"])("div",i,[s,Object(c["m"])(m,{to:"/products"},{default:Object(c["fb"])((function(){return[Object(c["m"])(h,{class:"block w-1/5 mx-auto",outline:""},{default:Object(c["fb"])((function(){return[d]})),_:1})]})),_:1})])):Object(c["g"])("",!0)]),Object(c["m"])(g,{show:b.isLoading},null,8,["show"]),Object(c["m"])(v,{show:!!b.error,title:"Error",onClose:p.closeError},{default:Object(c["fb"])((function(){return[Object(c["l"])(Object(c["U"])(b.error),1)]})),_:1},8,["show","onClose"])],64)}var b=r("1da1"),p=(r("96cf"),r("2a0e")),j=function(t){return Object(c["L"])("data-v-19f773a8"),t=t(),Object(c["J"])(),t},O={class:"flex items-center mb-2"},f=j((function(){return Object(c["i"])("label",{for:"coupon"},"優惠碼：",-1)})),h=Object(c["l"])("套用");function m(t,e,r,n,o,a){var u=Object(c["R"])("base-btn");return Object(c["I"])(),Object(c["h"])("form",{action:"",onSubmit:e[1]||(e[1]=Object(c["ib"])((function(){return a.couponForm&&a.couponForm.apply(a,arguments)}),["prevent"]))},[Object(c["i"])("div",O,[f,Object(c["gb"])(Object(c["i"])("input",{type:"text",class:"input",id:"coupon","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.couponCode=t})},null,512),[[c["ab"],o.couponCode]]),Object(c["m"])(u,{submit:"",outline:""},{default:Object(c["fb"])((function(){return[h]})),_:1})])],32)}var g={emits:["coupon-code"],data:function(){return{couponCode:""}},computed:{},methods:{couponForm:function(){""!==this.couponCode&&(this.$emit("coupon-code",this.couponCode),this.couponCode="")}}},v=(r("0a37"),r("6b0d")),w=r.n(v);const x=w()(g,[["render",m],["__scopeId","data-v-19f773a8"]]);var C=x,y=r("37db"),k={components:{CartProductList:p["a"],UseCoupon:C,Breadcrumb:y["a"]},data:function(){return{error:null,isLoading:!1}},computed:{cartData:function(){return this.$store.getters["forestageCart/cartData"]}},methods:{getCartData:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("forestageCart/getCart");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),t.error=e.t0;case 8:return e.prev=8,t.isLoading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},closeError:function(){this.error=null},changeProductQuantity:function(t){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isLoading=!0,r.next=4,e.$store.dispatch("forestageCart/changeProductQuantity",t);case 4:e.getCartData(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),e.error=r.t0;case 10:return r.prev=10,e.isLoading=!1,r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[0,7,10,13]])})))()},deleteProduct:function(t){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isLoading=!0,r.next=4,e.$store.dispatch("forestageCart/deleteProduct",t);case 4:e.getCartData(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),e.error=r.t0;case 10:return r.prev=10,e.isLoading=!1,r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[0,7,10,13]])})))()},useCoupon:function(t){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isLoading=!0,r.next=4,e.$store.dispatch("forestageCoupon/useCoupon",t);case 4:e.getCartData(),r.next=11;break;case 7:r.prev=7,r.t0=r["catch"](0),e.isLoading=!1,e.error=r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},mounted:function(){this.getCartData(),this.isLoading=!0}};const P=w()(k,[["render",l]]);e["default"]=P},c676:function(t,e,r){"use strict";r("93ee")}}]);
//# sourceMappingURL=chunk-0442df39.0dff2458.js.map