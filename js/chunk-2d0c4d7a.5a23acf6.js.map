{"version":3,"sources":["webpack:///./src/views/backstage/LoginView.vue","webpack:///./src/views/backstage/LoginView.vue?1381"],"names":["class","action","submitForm","email","isValue","type","placeholder","value","password","submit","show","isLoading","error","title","closeError","data","methods","includes","auth","username","$store","dispatch","$router","replace","message","this","__exports__","render"],"mappings":"4IACOA,MAAM,6D,GACAA,MAAM,2B,EACb,eAA0D,MAAtDA,MAAM,uCAAsC,SAAK,G,GAEzBA,MAAM,qB,GASHA,MAAM,qB,iBASM,M,8KAtB/C,eAyBM,MAzBN,EAyBM,CAxBJ,eAuBU,UAvBV,EAuBU,CAtBR,EACA,eAoBO,QApBDC,OAAO,GAAI,SAAM,+CAAU,EAAAC,YAAA,EAAAA,WAAA,qBAAU,e,iBACzC,eAAiE,IAAjE,EAAoD,YAAS,M,SAAlD,EAAAC,MAAMC,W,gBACjB,eAOE,SANAC,KAAK,QACLC,YAAY,cACZN,MAAK,gBAAC,wEAAuE,kBACjD,EAAAG,MAAMC,W,qDACzB,EAAAD,MAAMI,MAAK,IACnB,OAAI,+BAAE,EAAAJ,MAAMC,SAAO,K,mBADX,EAAAD,MAAMI,S,gBAGjB,eAAgE,IAAhE,EAAuD,QAAK,M,SAAjD,EAAAC,SAASJ,W,gBACpB,eAOE,SANAC,KAAK,WACLC,YAAY,iBACZN,MAAK,gBAAC,wEAAuE,kBACjD,EAAAQ,SAASJ,W,qDAC5B,EAAAI,SAASD,MAAK,IACtB,OAAI,+BAAE,EAAAC,SAASJ,SAAO,K,mBADd,EAAAI,SAASD,SAGpB,eAAsD,GAA5CP,MAAM,kBAAkBS,OAAA,I,0BAAO,iBAAE,C,qBAKjD,eAA+C,GAAhCC,KAAM,EAAAC,WAAS,iBAE9B,eAEc,GAFAD,OAAQ,EAAAE,MAAOC,MAAM,QAAS,QAAO,EAAAC,Y,0BACjD,iBAAW,C,8BAAR,EAAAF,OAAK,O,gDAKG,G,kDAAA,CACbG,KADa,WAEX,MAAO,CACLZ,MAAO,CACLC,SAAS,EACTG,MAAO,IAETC,SAAU,CACRJ,SAAS,EACTG,MAAO,IAETK,MAAO,KACPD,WAAW,IAGfK,QAAS,CACDd,WADC,WACY,iKACQ,KAArB,EAAKC,MAAMI,OAAiB,EAAKJ,MAAMI,MAAMU,SAAS,KADzC,uBAEf,EAAKd,MAAMC,SAAU,EAFN,6BAKW,KAAxB,EAAKI,SAASD,MALD,uBAMf,EAAKC,SAASJ,SAAU,EANT,0CAWf,EAAKO,WAAY,EACXO,EAAO,CACXH,KAAM,CACJI,SAAU,EAAKhB,MAAMI,MACrBC,SAAU,EAAKA,SAASD,QAfb,UAkBT,EAAKa,OAAOC,SAAS,sBAAuBH,GAlBnC,QAmBf,EAAKI,QAAQC,QAAQ,mBAnBN,qDAqBf,EAAKX,MAAQ,KAAIY,QACjB,EAAKb,WAAY,EAtBF,6DAyBnBG,WA1BO,WA2BLW,KAAKb,MAAQ,S,qBCzEnB,MAAMc,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0c4d7a.5a23acf6.js","sourcesContent":["<template>\n  <div class=\"flex items-center justify-center min-h-[calc(100vh-80px)]\">\n    <section class=\"container max-w-[540px]\">\n      <h1 class=\"mb-6 text-4xl font-bold text-center\">管理員登入</h1>\n      <form action=\"\" @submit.prevent=\"submitForm\">\n        <p v-show=\"email.isValue\" class=\"mb-1 text-red-400\">請輸入 Email</p>\n        <input\n          type=\"email\"\n          placeholder=\"Enter email\"\n          class=\"w-full px-3 py-4 mb-3 bg-gray-200 border-2 border-gray-400 rounded-md\"\n          :class=\"{ 'border-red-300': email.isValue }\"\n          v-model=\"email.value\"\n          @blur=\"email.isValue = false\"\n        />\n        <p v-show=\"password.isValue\" class=\"mb-1 text-red-400\">請輸入密碼</p>\n        <input\n          type=\"password\"\n          placeholder=\"Enter password\"\n          class=\"w-full px-3 py-4 mb-3 bg-gray-200 border-2 border-gray-400 rounded-md\"\n          :class=\"{ 'border-red-300': password.isValue }\"\n          v-model=\"password.value\"\n          @blur=\"password.isValue = false\"\n        />\n        <base-btn class=\"w-full h-[55px]\" submit>登入</base-btn>\n      </form>\n    </section>\n  </div>\n  <!-- loading -->\n  <base-loading :show=\"isLoading\"></base-loading>\n  <!-- error -->\n  <base-dialog :show=\"!!error\" title=\"Error\" @close=\"closeError\">\n    {{ error }}\n  </base-dialog>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: {\n        isValue: false,\n        value: '',\n      },\n      password: {\n        isValue: false,\n        value: '',\n      },\n      error: null,\n      isLoading: false,\n    };\n  },\n  methods: {\n    async submitForm() {\n      if (this.email.value === '' || !this.email.value.includes('@')) {\n        this.email.isValue = true;\n        return;\n      }\n      if (this.password.value === '') {\n        this.password.isValue = true;\n        return;\n      }\n\n      try {\n        this.isLoading = true;\n        const auth = {\n          data: {\n            username: this.email.value,\n            password: this.password.value,\n          },\n        };\n        await this.$store.dispatch('backstageAuth/login', auth);\n        this.$router.replace('/admin/products');\n      } catch (err) {\n        this.error = err.message;\n        this.isLoading = false;\n      }\n    },\n    closeError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=52fd9063\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\pc\\\\Desktop\\\\practice\\\\2022-vue-shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}