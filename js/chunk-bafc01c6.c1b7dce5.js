(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bafc01c6"],{"06c3":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"2a0e":function(e,t,r){"use strict";var c=r("7a23"),o=r("06c3"),n=r.n(o),l={class:"w-full text-center"},a={class:"border-b-2"},i=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),s=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),d=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),u=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],m={key:1},f={key:0},h={key:0},g=["onClick"],x=Object(c["i"])("td",null,null,-1),v=Object(c["i"])("td",null,null,-1),w=Object(c["i"])("td",null,null,-1),y={class:"pt-2"},I={key:0};function k(e,t,r,o,k,C){return Object(c["I"])(),Object(c["h"])("table",l,[Object(c["i"])("thead",null,[Object(c["i"])("tr",a,[i,s,d,u,r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(r.products,(function(e){return Object(c["I"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["U"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["U"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["gb"])((Object(c["I"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return C.changeProductQuantity(e)}},null,40,p)),[[c["ab"],e.qty]]),r.order?(Object(c["I"])(),Object(c["h"])("p",m,Object(c["U"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,[Object(c["i"])("p",null,Object(c["U"])(Math.round(e.final_total)),1),C.useCoupon(e.coupon)?(Object(c["I"])(),Object(c["h"])("p",f,"已套用優惠券："+Object(c["U"])(C.useCoupon(e.coupon)),1)):Object(c["g"])("",!0)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",h,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(t){return C.deleteProduct(e.id)}},null,8,g)]))])})),128)),Object(c["i"])("tr",null,[x,v,w,Object(c["i"])("td",null,[Object(c["i"])("p",y,Object(c["U"])(Math.round(C.sumsPriceTotal)),1)]),r.order?Object(c["g"])("",!0):(Object(c["I"])(),Object(c["h"])("td",I,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:t[0]||(t[0]=function(){return C.deleteProduct&&C.deleteProduct.apply(C,arguments)})})]))])])])}r("d3b7");var C={props:{products:{type:Array,required:!0},order:{type:Boolean,required:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(e){if(e.qty<1)this.deleteProduct(e.id);else{var t={id:e.id,data:{product_id:e.product_id,qty:e.qty}};this.$emit("change-product-quantity",t)}},deleteProduct:function(e){this.$emit("delete-product",e)},useCoupon:function(e){return null!==e&&void 0!==e&&e.code?e.code:""}}},U=r("6b0d"),P=r.n(U);const _=P()(C,[["render",k]]);t["a"]=_},"37db":function(e,t,r){"use strict";var c=r("7a23"),o={class:"grid grid-cols-1 mb-8 lg:text-lg sm:grid-cols-3"};function n(e,t,r,n,l,a){return Object(c["I"])(),Object(c["h"])("ul",o,[Object(c["i"])("li",{class:Object(c["x"])("cart"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 購物車 ",2),Object(c["i"])("li",{class:Object(c["x"])("information"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 輸入訂購人資訊 ",2),Object(c["i"])("li",{class:Object(c["x"])("check"===r.mode?"breadcrumb-active":"breadcrumb-item")},"確認訂單詳情",2)])}var l={props:["mode"]},a=(r("c676"),r("6b0d")),i=r.n(a);const s=i()(l,[["render",n],["__scopeId","data-v-5c504197"]]);t["a"]=s},"93ee":function(e,t,r){},a899:function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),o={class:"container px-4 mx-auto pt-[112px]"},n={class:"p-4 mt-3 mb-5 bg-gray-100 rounded-lg"},l={class:"flex mb-2"},a=Object(c["i"])("p",{class:"mr-2 text-lg ml-9"},"姓名：",-1),i={class:"flex mb-2"},s=Object(c["i"])("p",{class:"mr-2 text-lg ml-9"},"電話：",-1),d={class:"flex mb-2"},u=Object(c["i"])("p",{class:"mr-2 text-lg"},"電子信箱：",-1),b={class:"flex mb-2"},O=Object(c["i"])("p",{class:"mr-2 text-lg ml-9"},"地址：",-1),j={class:"flex mb-2"},p=Object(c["i"])("p",{class:"mr-2 text-lg ml-9"},"留言：",-1),m={class:"max-w-[500px] ml-auto flex gap-4"},f=Object(c["l"])("上一步"),h=Object(c["l"])("送出"),g=Object(c["i"])("p",null,"請務必記下訂單編號。( 可用於查詢訂單狀態 )",-1);function x(e,t,r,x,v,w){var y=Object(c["R"])("breadcrumb"),I=Object(c["R"])("cart-product-list"),k=Object(c["R"])("base-btn"),C=Object(c["R"])("router-link"),U=Object(c["R"])("base-loading"),P=Object(c["R"])("base-dialog");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",o,[Object(c["m"])(y,{mode:"check"}),Object(c["m"])(I,{products:w.cartData,order:""},null,8,["products"]),Object(c["i"])("ul",n,[Object(c["i"])("li",l,[a,Object(c["i"])("p",null,Object(c["U"])(v.order.name),1)]),Object(c["i"])("li",i,[s,Object(c["i"])("p",null,Object(c["U"])(v.order.phone),1)]),Object(c["i"])("li",d,[u,Object(c["i"])("p",null,Object(c["U"])(v.order.email),1)]),Object(c["i"])("li",b,[O,Object(c["i"])("p",null,Object(c["U"])(v.order.address),1)]),Object(c["i"])("li",j,[p,Object(c["i"])("p",null,Object(c["U"])(v.order.message),1)])]),Object(c["i"])("div",m,[Object(c["m"])(C,{to:"/orderinformation"},{default:Object(c["fb"])((function(){return[Object(c["m"])(k,{outline:"",class:"flex-1"},{default:Object(c["fb"])((function(){return[f]})),_:1})]})),_:1}),Object(c["m"])(k,{class:"flex-1",onClick:w.sendOrder},{default:Object(c["fb"])((function(){return[h]})),_:1},8,["onClick"])])]),Object(c["m"])(U,{show:v.isLoading},null,8,["show"]),Object(c["m"])(P,{show:!!v.error,title:"Error",onClose:w.closeError},{default:Object(c["fb"])((function(){return[Object(c["l"])(Object(c["U"])(v.error),1)]})),_:1},8,["show","onClose"]),Object(c["m"])(P,{show:!!v.orderId,title:"已建立訂單",onClose:w.closeOrderId},{default:Object(c["fb"])((function(){return[Object(c["i"])("p",null,"您的訂單編號是："+Object(c["U"])(v.orderId),1),g]})),_:1},8,["show","onClose"])],64)}var v=r("1da1"),w=(r("96cf"),r("ac1f"),r("5319"),r("2a0e")),y=r("37db"),I={components:{CartProductList:w["a"],Breadcrumb:y["a"]},data:function(){return{order:{},error:null,isLoading:!1,orderId:""}},computed:{cartData:function(){return this.$store.getters["forestageCart/cartData"]}},methods:{orderInformation:function(){var e,t;this.order=null!==(e=this.$store.getters["forestageOrder/orderInformation"])&&void 0!==e?e:{},void 0!==(null===(t=this.order)||void 0===t?void 0:t.name)&&0!==this.cartData.length||this.$router.replace("/cart")},sendOrder:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.$store.dispatch("forestageOrder/sendOrder");case 4:e.orderId=e.$store.getters["forestageOrder/orderId"],e.$store.dispatch("forestageOrder/orderInformation",""),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0;case 11:return t.prev=11,e.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},closeError:function(){this.error=null},closeOrderId:function(){this.orderId="",this.$router.replace("/order")}},mounted:function(){this.orderInformation()}},k=r("6b0d"),C=r.n(k);const U=C()(I,[["render",x]]);t["default"]=U},c676:function(e,t,r){"use strict";r("93ee")}}]);
//# sourceMappingURL=chunk-bafc01c6.c1b7dce5.js.map